<!DOCTYPE html>
<html lang="ja">

  <head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <title>リズムトレーニング</title>

<script>
      document.write(
        '<link rel="stylesheet" href="css/style.css?' + new Date().getTime() + '">'
      );
      /*
      document.write(
        '<script src="js/script.js?' + new Date().getTime() + '"><\/script>'
      );
      */
</script>

</head>

<body>


<div class="rhythmImg">
  <div>
    <img src="img/rhythm1.png" alt="" id="rhythm-1">
    <p>①</p>
  </div>
  <div>
    <img src="img/rhythm2.png" alt="" id="rhythm-2">
    <p>②</p>
  </div>
  <div>
    <img src="img/rhythm3.png" alt="" id="rhythm-3">
    <p>③</p>
  </div>
</div>

<div class="rhythmImg">
  <div>
    <img src="img/rhythm4.png" alt="" id="rhythm-4">
    <p>④</p>
  </div>
  <div>
    <img src="img/rhythm5.png" alt="" id="rhythm-5">
    <p>⑤</p>
  </div>
  <div>
    <img src="img/rhythm6.png" alt="" id="rhythm-6">
    <p>⑥</p>
  </div>
</div>

<div class="part">
  <select id="rhythm_1" class="rhythm">
    <option value="rhythm1" selected>①</option>
    <option value="rhythm2">②</option>
    <option value="rhythm3">③</option>
    <option value="rhythm4">④</option>
    <option value="rhythm5">⑤</option>
    <option value="rhythm6">⑥</option>
  </select>
  
    <div class="item" id="first">
      <div class="beat">
        <p>1</p>
        <select id="rhythm1" class="rhythm">
          <option value="off" selected></option>
          <option value="on">◯</option>
        </select>
    </div>
    
    <div class="beat">
      <p>2</p>
      <select id="rhythm2" class="rhythm">
        <option value="off" selected></option>
        <option value="on">◯</option>
      </select>
  
    </div>
  
    <div class="beat">
      <p>3</p>
      <select id="rhythm3" class="rhythm">
        <option value="off" selected></option>
        <option value="on">◯</option>
      </select>
  
    </div>
  
    <div class="beat">
      <p>4</p>
      <select id="rhythm4" class="rhythm">
        <option value="off" selected></option>
        <option value="on">◯</option>
      </select>
  
    </div>
    
    <div class="beat">
      <p>5</p>
      <select id="rhythm5" class="rhythm">
        <option value="off" selected></option>
        <option value="on">◯</option>
      </select>
  
    </div>
  
    <div class="beat">
      <p>6</p>
      <select id="rhythm6" class="rhythm">
        <option value="off" selected></option>
        <option value="on">◯</option>
      </select>
  
    </div>
  
    <div class="beat">
      <p>7</p>
      <select  id="rhythm7" class="rhythm">
        <option value="off" selected></option>
        <option value="on">◯</option>
      </select>
  
    </div>
  
    <div class="beat">
      <p>8</p>
      <select  id="rhythm8" class="rhythm">
        <option value="off" selected></option>
        <option value="on">◯</option>
      </select>
    </div>
      
      <div class="beat">
        <p>9</p>
        <select  id="rhythm9" class="rhythm">
          <option value="off" selected></option>
          <option value="on">◯</option>
        </select>
  
      </div>
  
      <div class="beat">
        <p>10</p>
        <select  id="rhythm10" class="rhythm">
          <option value="off" selected></option>
          <option value="on">◯</option>
        </select>
  
      </div>
  
      <div class="beat">
        <p>11</p>
        <select  id="rhythm11" class="rhythm">
          <option value="off" selected></option>
          <option value="on">◯</option>
        </select>
      </div>
      <img src="img/rhythm7.png" alt="" width="12%">
    </div>
</div>


<div class="part">
  <select id="rhythm_2" class="rhythm">
    <option value="rhythm1" selected>①</option>
    <option value="rhythm2">②</option>
    <option value="rhythm3">③</option>
    <option value="rhythm4">④</option>
    <option value="rhythm5">⑤</option>
    <option value="rhythm6">⑥</option>
  </select>
  
  <div class="item" id="second">
    <div class="beat">
      <p>1</p>
      <select  id="rhythm12" class="rhythm">
        <option value="off" selected></option>
        <option value="on">△</option>
      </select>

  </div>
  
  <div class="beat">
    <p>2</p>
    <select  id="rhythm13" class="rhythm">
      <option value="off" selected></option>
      <option value="on">△</option>
    </select>

  </div>

  <div class="beat">
    <p>3</p>
    <select  id="rhythm14" class="rhythm">
      <option value="off" selected></option>
      <option value="on">△</option>
    </select>

  </div>

  <div class="beat">
    <p>4</p>
    <select  id="rhythm15" class="rhythm">
      <option value="off" selected></option>
      <option value="on">△</option>
    </select>

  </div>
  
  <div class="beat">
    <p>5</p>
    <select  id="rhythm16" class="rhythm">
      <option value="off" selected></option>
      <option value="on">△</option>
    </select>

  </div>

  <div class="beat">
    <p>6</p>
    <select  id="rhythm17" class="rhythm">
      <option value="off" selected></option>
      <option value="on">△</option>
    </select>

  </div>

  <div class="beat">
    <p>7</p>
    <select  id="rhythm18" class="rhythm">
      <option value="off" selected></option>
      <option value="on">△</option>
    </select>

  </div>

  <div class="beat">
    <p>8</p>
    <select  id="rhythm19" class="rhythm">
      <option value="off" selected></option>
      <option value="on">△</option>
    </select>

  </div>
    
    <div class="beat">
      <p>9</p>
      <select  id="rhythm20" class="rhythm">
        <option value="off" selected></option>
        <option value="on">△</option>
      </select>

    </div>

    <div class="beat">
      <p>10</p>
      <select  id="rhythm21" class="rhythm">
        <option value="off" selected></option>
        <option value="on">△</option>
      </select>

    </div>

    <div class="beat">
      <p>11</p>
      <select  id="rhythm22" class="rhythm">
        <option value="off" selected></option>
        <option value="on">△</option>
      </select>

    </div>
    <img src="img/rhythm7.png" alt="" width="12%">
  </div>
</div>



<div class="part">
  <select id="rhythm_3" class="rhythm">
    <option value="rhythm1" selected>①</option>
    <option value="rhythm2">②</option>
    <option value="rhythm3">③</option>
    <option value="rhythm4">④</option>
    <option value="rhythm5">⑤</option>
    <option value="rhythm6">⑥</option>
  </select>
  
  <div class="item" id="third">
    <div class="beat">
      <p>1</p>
      <select  id="rhythm23" class="rhythm">
        <option value="off" selected></option>
        <option value="on">□</option>
      </select>

  </div>
  
  <div class="beat">
    <p>2</p>
    <select  id="rhythm24" class="rhythm">
      <option value="off" selected></option>
      <option value="on">□</option>
    </select>

  </div>

  <div class="beat">
    <p>3</p>
    <select  id="rhythm25" class="rhythm">
      <option value="off" selected></option>
      <option value="on">□</option>
    </select>

  </div>

  <div class="beat">
    <p>4</p>
    <select  id="rhythm26" class="rhythm">
      <option value="off" selected></option>
      <option value="on">□</option>
    </select>

  </div>
  
  <div class="beat">
    <p>5</p>
    <select  id="rhythm27" class="rhythm">
      <option value="off" selected></option>
      <option value="on">□</option>
    </select>

  </div>

  <div class="beat">
    <p>6</p>
    <select  id="rhythm28" class="rhythm">
      <option value="off" selected></option>
      <option value="on">□</option>
    </select>

  </div>

  <div class="beat">
    <p>7</p>
    <select  id="rhythm29" class="rhythm">
      <option value="off" selected></option>
      <option value="on">□</option>
    </select>

  </div>

  <div class="beat">
    <p>8</p>
    <select  id="rhythm30" class="rhythm">
      <option value="off" selected></option>
      <option value="on">□</option>
    </select>

  </div>
    
    <div class="beat">
      <p>9</p>
      <select  id="rhythm31" class="rhythm">
        <option value="off" selected></option>
        <option value="on">□</option>
      </select>

    </div>

    <div class="beat">
      <p>10</p>
      <select  id="rhythm32" class="rhythm">
        <option value="off" selected></option>
        <option value="on">□</option>
      </select>

    </div>

    <div class="beat">
      <p>11</p>
      <select  id="rhythm33" class="rhythm">
        <option value="off" selected></option>
        <option value="on">□</option>
      </select>

    </div>
    <img src="img/rhythm7.png" alt="" width="12%">
  </div>
</div>


<div class="part">
  <select id="rhythm_4" class="rhythm">
    <option value="rhythm1" selected>①</option>
    <option value="rhythm2">②</option>
    <option value="rhythm3">③</option>
    <option value="rhythm4">④</option>
    <option value="rhythm5">⑤</option>
    <option value="rhythm6">⑥</option>
  </select>
  
  <div class="item" id="forth">
    <div class="beat">
      <p>1</p>
      <select  id="rhythm34" class="rhythm">
        <option value="off" selected></option>
        <option value="on">☆</option>
      </select>

  </div>
  
  <div class="beat">
    <p>2</p>
    <select  id="rhythm35" class="rhythm">
      <option value="off" selected></option>
      <option value="on">☆</option>
    </select>

  </div>

  <div class="beat">
    <p>3</p>
    <select  id="rhythm36" class="rhythm">
      <option value="off" selected></option>
      <option value="on">☆</option>
    </select>

  </div>

  <div class="beat">
    <p>4</p>
    <select  id="rhythm37" class="rhythm">
      <option value="off" selected></option>
      <option value="on">☆</option>
    </select>

  </div>
  
  <div class="beat">
    <p>5</p>
    <select  id="rhythm38" class="rhythm">
      <option value="off" selected></option>
      <option value="on">☆</option>
    </select>

  </div>

  <div class="beat">
    <p>6</p>
    <select  id="rhythm39" class="rhythm">
      <option value="off" selected></option>
      <option value="on">☆</option>
    </select>

  </div>

  <div class="beat">
    <p>7</p>
    <select  id="rhythm40" class="rhythm">
      <option value="off" selected></option>
      <option value="on">☆</option>
    </select>

  </div>

  <div class="beat">
    <p>8</p>
    <select  id="rhythm41" class="rhythm">
      <option value="off" selected></option>
      <option value="on">☆</option>
    </select>

  </div>
    
    <div class="beat">
      <p>9</p>
      <select  id="rhythm42" class="rhythm">
        <option value="off" selected></option>
        <option value="on">☆</option>
      </select>

    </div>

    <div class="beat">
      <p>10</p>
      <select  id="rhythm43" class="rhythm">
        <option value="off" selected></option>
        <option value="on">☆</option>
      </select>

    </div>

    <div class="beat">
      <p>11</p>
      <select  id="rhythm44" class="rhythm">
        <option value="off" selected></option>
        <option value="on">☆</option>
      </select>

    </div>
    <img src="img/rhythm7.png" alt="" width="12%">
  </div>
</div>





<div class="buttons">
  <div class="tempo_and_piano">
    <select name="tempo_category" id="tempo_category">
      <option value="select" selected>テンポ</option>
      <option value="tempo75">&#9833; = 75</option>
      <option value="tempo95">&#9833; = 95</option>
      <option value="tempo115">&#9833; = 115</option>
    </select>
  </div>
  
  <select name="play_mode" id="play_mode">
    <option value="3personMode" selected>3人再生モード</option>
    <option value="4personMode">4人再生モード</option>
    <option value="1personMode1">１人目再生モード</option>
    <option value="1personMode2">２人目再生モード</option>
    <option value="1personMode3">３人目再生モード</option>
    <option value="1personMode4">４人目再生モード</option>
  </select>
  
  <button id = "play"></button>
  <button id = "stop"></button>
</div>

<script>

document.getElementById("play").addEventListener("click", function() {
    playMode();
}, false);

document.getElementById("stop").addEventListener("click", function() {
    Refresh();
}, false);


    const tempo_category = document.getElementById("tempo_category");
    tempo_category.onchange = Refresh;

    const rhythmCategory = [rhythm1,rhythm2,rhythm3,rhythm4,rhythm5,rhythm6,rhythm7,rhythm8,rhythm9,rhythm10,rhythm11,rhythm12,rhythm13,rhythm14,rhythm15,rhythm16,rhythm17,rhythm18,rhythm19,rhythm20,rhythm21,rhythm22,rhythm23,rhythm24,rhythm25,rhythm26,rhythm27,rhythm28,rhythm29,rhythm30,rhythm31,rhythm32,rhythm33,rhythm34,rhythm35,rhythm36,rhythm37,rhythm38,rhythm39,rhythm40,rhythm41,rhythm42,rhythm43,rhythm44];

    const selectRhythmCategory = [rhythm_1,rhythm_2,rhythm_3,rhythm_4];


    const play_mode = document.getElementById("play_mode");
    play_mode.onchange = Refresh;



document.getElementById("rhythm-1").addEventListener("click", function() {
  changeTempo();
  const synth = new Tone.Synth().toDestination();
  function setPlay(time, note) {synth.triggerAttackRelease("E4", note.duration, time);}
  const melody = new Tone.Part(setPlay, rhythmList1).start();
  melody.loop = 0; 
  Tone.Transport.start();
}, false);

document.getElementById("rhythm-2").addEventListener("click", function() {
  changeTempo();
  const synth = new Tone.Synth().toDestination();
  function setPlay(time, note) {synth.triggerAttackRelease("E4", note.duration, time);}
  const melody = new Tone.Part(setPlay, rhythmList2).start();
  melody.loop = 0; 
  Tone.Transport.start();
}, false);

document.getElementById("rhythm-3").addEventListener("click", function() {
  changeTempo();
  const synth = new Tone.Synth().toDestination();
  function setPlay(time, note) {synth.triggerAttackRelease("E4", note.duration, time);}
  const melody = new Tone.Part(setPlay, rhythmList3).start();
  melody.loop = 0; 
  Tone.Transport.start();
}, false);

document.getElementById("rhythm-4").addEventListener("click", function() {
  changeTempo();
  const synth = new Tone.Synth().toDestination();
  function setPlay(time, note) {synth.triggerAttackRelease("E4", note.duration, time);}
  const melody = new Tone.Part(setPlay, rhythmList4).start();
  melody.loop = 0; 
  Tone.Transport.start();
}, false);

document.getElementById("rhythm-5").addEventListener("click", function() {
  changeTempo();
  const synth = new Tone.Synth().toDestination();
  function setPlay(time, note) {synth.triggerAttackRelease("E4", note.duration, time);}
  const melody = new Tone.Part(setPlay, rhythmList5).start();
  melody.loop = 0; 
  Tone.Transport.start();
}, false);

document.getElementById("rhythm-6").addEventListener("click", function() {
  changeTempo();
  const synth = new Tone.Synth().toDestination();
  function setPlay(time, note) {synth.triggerAttackRelease("E4", note.duration, time);}
  const melody = new Tone.Part(setPlay, rhythmList6).start();
  melody.loop = 0; 
  Tone.Transport.start();
}, false);


function Refresh(){
  Tone.Transport.stop();
  Tone.Transport.cancel();
}

const notes = new Array(32); 

function playRhythm(){
    melody1();
    melody2();
    melody3();
    melody4();
}

function playMode(){
  changeTempo();
  changeRhythm();
  Tone.Transport.start();

  switch (play_mode.value){
    case "3personMode":
      melody1();
      melody2();
      melody3();
        break;
    case "4personMode":
      playRhythm();
        break;
    case "1personMode1":
      melody1();
        break;
    case "1personMode2":
      melody2();
        break;
    case "1personMode3":
      melody3();
        break;
    case "1personMode4":
      melody4();
        break;
    default:
      playRhythm();
  }  
}


function changeTempo(){
    switch (tempo_category.value){
    case "tempo75":
    Tone.Transport.bpm.value = 75;
        break;
    case "tempo95":
    Tone.Transport.bpm.value = 95;
        break;
    case "tempo115":
    Tone.Transport.bpm.value = 115;
        break;
    default:  
    Tone.Transport.bpm.value = 95;
  }  
}

if(tempo_category.value == "select"){
  tempo_category.value = "tempo95";    
}

  const rhythmList1 = [
  {time: "0:0", duration: "2n"},
  {time: "0:2", duration: "2n"},
  {time: "1:0", duration: "1m"}
  ]

  const rhythmList2 = [
  {time: "0:1", duration: "4n"},
  {time: "0:3", duration: "4n"},
  {time: "1:1", duration: "4n"},
  {time: "1:3", duration: "4n"},
  ]

  const rhythmList3 = [
  {time: "0:0", duration: "4n"},
  {time: "0:1", duration: "8n"},
  {time: "0:1.5", duration: "8n"},
  {time: "0:2", duration: "4n"},
  {time: "1:0", duration: "4n"},
  {time: "1:1", duration: "8n"},
  {time: "1:1.5", duration: "8n"},
  {time: "1:2", duration: "4n"}
  ]

  const rhythmList4 = [
  {time: "0:0", duration: "8n"},
  {time: "0:0.5", duration: "8n"},
  {time: "0:1", duration: "8n"},
  {time: "0:1.5", duration: "8n"},
  {time: "0:2", duration: "8n"},
  {time: "0:2.5", duration: "8n"},
  {time: "0:3", duration: "8n"},
  {time: "0:3.5", duration: "8n"},
  {time: "1:0", duration: "8n"},
  {time: "1:0.5", duration: "8n"},
  {time: "1:1", duration: "8n"},
  {time: "1:1.5", duration: "8n"},
  {time: "1:2", duration: "8n"},
  {time: "1:2.5", duration: "8n"},
  {time: "1:3", duration: "8n"},
  {time: "1:3.5", duration: "8n"},
  ]

  const rhythmList5 = [
  {time: "0:0", duration: "3n"},
  {time: "0:1.5", duration: "8n"},
  {time: "0:2", duration: "4n"},
  {time: "1:0", duration: "3n"},
  {time: "1:1.5", duration: "8n"},
  {time: "1:2", duration: "4n"},
  ]

  const rhythmList6 = [
  {time: "0:0", duration: "3n"},
  {time: "0:1.5", duration: "8n"},
  {time: "0:2", duration: "4n"},
  {time: "0:3", duration: "4n"},
  {time: "1:1", duration: "4n"},
  {time: "1:2", duration: "4n"},
  ]

  const rhythmList7 = [
  {time: "0:0", duration: "4n"}
  ]

  const melodyList = new Array(4);

for(i = 1; i < 45; i++){
  rhythmCategory[i] = document.getElementById(`rhythm${i}`);
}

for(i = 1; i < 5; i++){
  selectRhythmCategory[i] = document.getElementById(`rhythm_${i}`);
}


function changeRhythm(){
  for(i = 1; i < 5; i++){
    switch (selectRhythmCategory[i].value){
        case "rhythm1":
          melodyList[i-1] = rhythmList1;
        break;
        case "rhythm2":
          melodyList[i-1] = rhythmList2;
        break;
        case "rhythm3":
          melodyList[i-1] = rhythmList3;
        break;
        case "rhythm4":
          melodyList[i-1] = rhythmList4;
        break;
        case "rhythm5":
          melodyList[i-1] = rhythmList5;
        break;
        case "rhythm6":
          melodyList[i-1] = rhythmList6;
        break;
        default:  
    }  
  }
}


for(i = 1; i < 45; i++){
  rhythmCategory[i].onchange = colorChange;
}

function colorChange(){
  for(i = 1; i < 12; i++){
  if(rhythmCategory[i].value == "on"){
    rhythmCategory[i].style.backgroundColor = "lightcoral"
  }
  else{
    rhythmCategory[i].style.backgroundColor = "white"
  }
}
for(i = 12; i < 23; i++){
  if(rhythmCategory[i].value == "on"){
    rhythmCategory[i].style.backgroundColor = "lightskyblue"
  }
  else{
    rhythmCategory[i].style.backgroundColor = "white"
  }
}
for(i = 23; i < 34; i++){
  if(rhythmCategory[i].value == "on"){
    rhythmCategory[i].style.backgroundColor = "yellow"
  }
  else{
    rhythmCategory[i].style.backgroundColor = "white"
  }
}
for(i = 34; i < 45; i++){
  if(rhythmCategory[i].value == "on"){
    rhythmCategory[i].style.backgroundColor = "lightgreen"
  }
  else{
    rhythmCategory[i].style.backgroundColor = "white"
  }
}
}


function melody1(){
  const synth = new Tone.Synth().toDestination();
  function setPlay(time, note) {synth.triggerAttackRelease("E4", note.duration, time, 2.5);}

  if(rhythmCategory[1].value == "on"){
    const melody1 = new Tone.Part(setPlay, melodyList[0]).start();
  }
  if(rhythmCategory[2].value == "on"){
    const melody2 = new Tone.Part(setPlay, melodyList[0]).start("2m");
  }
  if(rhythmCategory[3].value == "on"){
    const melody3 = new Tone.Part(setPlay, melodyList[0]).start("4m");
  }
  if(rhythmCategory[4].value == "on"){
    const melody4 = new Tone.Part(setPlay, melodyList[0]).start("6m");
  }
  if(rhythmCategory[5].value == "on"){
    const melody5 = new Tone.Part(setPlay, melodyList[0]).start("8m");
  }
  if(rhythmCategory[6].value == "on"){
    const melody6 = new Tone.Part(setPlay, melodyList[0]).start("10m");
  }
  if(rhythmCategory[7].value == "on"){
    const melody7 = new Tone.Part(setPlay, melodyList[0]).start("12m");
  }
  if(rhythmCategory[8].value == "on"){
    const melody8 = new Tone.Part(setPlay, melodyList[0]).start("14m"); 
  }
  if(rhythmCategory[9].value == "on"){
    const melody9 = new Tone.Part(setPlay, melodyList[0]).start("16m");
  }
  if(rhythmCategory[10].value == "on"){
    const melody10 = new Tone.Part(setPlay, melodyList[0]).start("18m");    
  }
  if(rhythmCategory[11].value == "on"){
    const melody11 = new Tone.Part(setPlay, melodyList[0]).start("20m");
  }

  const melody12 = new Tone.Part(setPlay, rhythmList7).start("22m");

}

function melody2(){
  const synth = new Tone.MetalSynth().toDestination();
  function setPlay(time, note) {synth.triggerAttackRelease("E4", note.duration, time);}
  if(rhythmCategory[12].value == "on"){
    const melody1 = new Tone.Part(setPlay, melodyList[1]).start();
  }
  if(rhythmCategory[13].value == "on"){
    const melody2 = new Tone.Part(setPlay, melodyList[1]).start("2m");
  }
  if(rhythmCategory[14].value == "on"){
    const melody3 = new Tone.Part(setPlay, melodyList[1]).start("4m");
  }
  if(rhythmCategory[15].value == "on"){
    const melody4 = new Tone.Part(setPlay, melodyList[1]).start("6m");
  }
  if(rhythmCategory[16].value == "on"){
    const melody5 = new Tone.Part(setPlay, melodyList[1]).start("8m");
  }
  if(rhythmCategory[17].value == "on"){
    const melody6 = new Tone.Part(setPlay, melodyList[1]).start("10m");
  }
  if(rhythmCategory[18].value == "on"){
    const melody7 = new Tone.Part(setPlay, melodyList[1]).start("12m");
  }
  if(rhythmCategory[19].value == "on"){
    const melody8 = new Tone.Part(setPlay, melodyList[1]).start("14m"); 
  }
  if(rhythmCategory[20].value == "on"){
    const melody9 = new Tone.Part(setPlay, melodyList[1]).start("16m");
  }
  if(rhythmCategory[21].value == "on"){
    const melody10 = new Tone.Part(setPlay, melodyList[1]).start("18m");    
  }
  if(rhythmCategory[22].value == "on"){
    const melody11 = new Tone.Part(setPlay, melodyList[1]).start("20m");
  }
  const melody12 = new Tone.Part(setPlay, rhythmList7).start("22m");

}


function melody3(){
  const synth = new Tone.Sampler({
	urls: {
		A1: "A1.mp3",
		A2: "A2.mp3",
	},
	baseUrl: "https://tonejs.github.io/audio/casio/",
}).toDestination();

  function setPlay(time, note) {synth.triggerAttackRelease("E4", note.duration, time, 5);}
  if(rhythmCategory[23].value == "on"){
    const melody1 = new Tone.Part(setPlay, melodyList[2]).start();
  }
  if(rhythmCategory[24].value == "on"){
    const melody2 = new Tone.Part(setPlay, melodyList[2]).start("2m");
  }
  if(rhythmCategory[25].value == "on"){
    const melody3 = new Tone.Part(setPlay, melodyList[2]).start("4m");
  }
  if(rhythmCategory[26].value == "on"){
    const melody4 = new Tone.Part(setPlay, melodyList[2]).start("6m");
  }
  if(rhythmCategory[27].value == "on"){
    const melody5 = new Tone.Part(setPlay, melodyList[2]).start("8m");
  }
  if(rhythmCategory[28].value == "on"){
    const melody6 = new Tone.Part(setPlay, melodyList[2]).start("10m");
  }
  if(rhythmCategory[29].value == "on"){
    const melody7 = new Tone.Part(setPlay, melodyList[2]).start("12m");
  }
  if(rhythmCategory[30].value == "on"){
    const melody8 = new Tone.Part(setPlay, melodyList[2]).start("14m"); 
  }
  if(rhythmCategory[31].value == "on"){
    const melody9 = new Tone.Part(setPlay, melodyList[2]).start("16m");
  }
  if(rhythmCategory[32].value == "on"){
    const melody10 = new Tone.Part(setPlay, melodyList[2]).start("18m");    
  }
  if(rhythmCategory[33].value == "on"){
    const melody11 = new Tone.Part(setPlay, melodyList[2]).start("20m");
  }
  const melody12 = new Tone.Part(setPlay, rhythmList7).start("22m");

}

function melody4(){
  const synth = new Tone.MembraneSynth().toDestination();
  function setPlay(time, note) {synth.triggerAttackRelease("E4", note.duration, time);}
  if(rhythmCategory[34].value == "on"){
    const melody1 = new Tone.Part(setPlay, melodyList[3]).start();
  }
  if(rhythmCategory[35].value == "on"){
    const melody2 = new Tone.Part(setPlay, melodyList[3]).start("2m");
  }
  if(rhythmCategory[36].value == "on"){
    const melody3 = new Tone.Part(setPlay, melodyList[3]).start("4m");
  }
  if(rhythmCategory[37].value == "on"){
    const melody4 = new Tone.Part(setPlay, melodyList[3]).start("6m");
  }
  if(rhythmCategory[38].value == "on"){
    const melody5 = new Tone.Part(setPlay, melodyList[3]).start("8m");
  }
  if(rhythmCategory[39].value == "on"){
    const melody6 = new Tone.Part(setPlay, melodyList[3]).start("10m");
  }
  if(rhythmCategory[40].value == "on"){
    const melody7 = new Tone.Part(setPlay, melodyList[3]).start("12m");
  }
  if(rhythmCategory[41].value == "on"){
    const melody8 = new Tone.Part(setPlay, melodyList[3]).start("14m"); 
  }
  if(rhythmCategory[42].value == "on"){
    const melody9 = new Tone.Part(setPlay, melodyList[3]).start("16m");
  }
  if(rhythmCategory[43].value == "on"){
    const melody10 = new Tone.Part(setPlay, melodyList[3]).start("18m");    
  }
  if(rhythmCategory[44].value == "on"){
    const melody11 = new Tone.Part(setPlay, melodyList[3]).start("20m");
  }

  const melody12 = new Tone.Part(setPlay, rhythmList7).start("22m");

}

</script>
<script src="https://unpkg.com/tone@14.7.77/build/Tone.js"></script>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>
<script src="js/abcjs-basic-min.js"></script>
</body>
</html>
