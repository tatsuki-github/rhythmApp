<!DOCTYPE html>
<html lang="ja">

  <head>
    <meta charset="UTF-8" name="viewport" content="width=device-width, initial-scale=1.0" />
    
    <title>リズムトレーニング</title>

<script>
      document.write(
        '<link rel="stylesheet" href="css/style.css?' + new Date().getTime() + '">'
      );
      document.write(
        '<script src="js/script.js?' + new Date().getTime() + '"><\/script>'
      );
</script>

<!--jQuery-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.4.1/jquery.min.js"></script>

<script src="js/abcjs-basic-min.js"></script>

</head>

<body>

<div class="tempo_and_piano">
  <select name="tempo_category" id="tempo_category">
    <option value="select" selected>テンポ</option>
    <option value="tempo_60">&#9833; = 60</option>
    <option value="tempo_80">&#9833; = 80</option>
    <option value="tempo_100">&#9833; = 100</option>
    <option value="tempo_120">&#9833; = 120</option>
    <option value="tempo_140">&#9833; = 140</option>
    <option value="tempo_160">&#9833; = 160</option>
  </select>
  

  <div class="buttons">
    <select name="play_mode" id="play_mode">
      <option value="select" selected>再生モード</option>
      <option value="only_code">コードのみ</option>
      <option value="only_melody">旋律のみ</option>
      <option value="play_first_half">前半再生</option>
      <option value="play_latter_half">後半再生</option>
      <option value="play">全曲再生</option>
    </select>
    
    <button id = "play"></button>
    <button id = "stop"></button>
  </div>
</div>

<div id="first">
  <div id="note"></div>
  <div id="note2"></div>


  <div class="item">
    
    <div class="beat">
      <p>1</p>
      <select id="rhythm1-1" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

  </div>
  
  <div class="beat">
    <p>2</p>
    <select id="rhythm1-2" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>3</p>
    <select id="rhythm1-3" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>4</p>
    <select id="rhythm1-4" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>
  
  <div class="beat">
    <p>5</p>
    <select id="rhythm1-5" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>6</p>
    <select id="rhythm1-6" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>7</p>
    <select  id="rhythm1-7" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>8</p>
    <select  id="rhythm1-8" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>
    
    <div class="beat">
      <p>9</p>
      <select  id="rhythm1-9" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>

    <div class="beat">
      <p>10</p>
      <select  id="rhythm1-10" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>

    <div class="beat">
      <p>11</p>
      <select  id="rhythm1-11" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>
  </div>
  <div class="item">
    
    <div class="beat">
      <p>1</p>
      <select  id="rhythm2-1" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

  </div>
  
  <div class="beat">
    <p>2</p>
    <select  id="rhythm2-2" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>3</p>
    <select  id="rhythm2-3" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>4</p>
    <select  id="rhythm2-4" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>
  
  <div class="beat">
    <p>5</p>
    <select  id="rhythm2-5" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>6</p>
    <select  id="rhythm2-6" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>7</p>
    <select  id="rhythm2-7" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>8</p>
    <select  id="rhythm2-8" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>
    
    <div class="beat">
      <p>9</p>
      <select  id="rhythm2-9" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>

    <div class="beat">
      <p>10</p>
      <select  id="rhythm2-10" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>

    <div class="beat">
      <p>11</p>
      <select  id="rhythm2-11" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>
  </div>
  <div class="item">
    
    <div class="beat">
      <p>1</p>
      <select  id="rhythm3-1" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

  </div>
  
  <div class="beat">
    <p>2</p>
    <select  id="rhythm3-2" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>3</p>
    <select  id="rhythm3-3" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>4</p>
    <select  id="rhythm3-4" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>
  
  <div class="beat">
    <p>5</p>
    <select  id="rhythm3-5" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>6</p>
    <select  id="rhythm3-6" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>7</p>
    <select  id="rhythm3-7" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>8</p>
    <select  id="rhythm3-8" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>
    
    <div class="beat">
      <p>9</p>
      <select  id="rhythm3-9" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>

    <div class="beat">
      <p>10</p>
      <select  id="rhythm3-10" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>

    <div class="beat">
      <p>11</p>
      <select  id="rhythm3-11" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>
  </div>
  <div class="item">
    
    <div class="beat">
      <p>1</p>
      <select  id="rhythm4-1" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

  </div>
  
  <div class="beat">
    <p>2</p>
    <select  id="rhythm4-2" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>3</p>
    <select  id="rhythm4-3" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>4</p>
    <select  id="rhythm4-4" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>
  
  <div class="beat">
    <p>5</p>
    <select  id="rhythm4-5" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>6</p>
    <select  id="rhythm4-6" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>7</p>
    <select  id="rhythm4-7" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>

  <div class="beat">
    <p>8</p>
    <select  id="rhythm4-8" class="rhythm">
      <option value="rhythm0" selected></option>
      <option value="rhythm1">①</option>
      <option value="rhythm2">②</option>
      <option value="rhythm3">③</option>
      <option value="rhythm4">④</option>
      <option value="rhythm5">⑤</option>
      <option value="rhythm6">⑥</option>
    </select>

  </div>
    
    <div class="beat">
      <p>9</p>
      <select  id="rhythm4-9" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>

    <div class="beat">
      <p>10</p>
      <select  id="rhythm4-10" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>

    <div class="beat">
      <p>11</p>
      <select  id="rhythm4-11" class="rhythm">
        <option value="rhythm0" selected></option>
        <option value="rhythm1">①</option>
        <option value="rhythm2">②</option>
        <option value="rhythm3">③</option>
        <option value="rhythm4">④</option>
        <option value="rhythm5">⑤</option>
        <option value="rhythm6">⑥</option>
      </select>

    </div>
  </div>
</div>


    


<script>
  window.addEventListener("load", function(){
    displayNote();
  }, false)

function btnDisable(){ 
document.getElementById("play").disabled = true;
document.getElementById("play").style.backgroundColor = "#C0C0C0"
clearInterval(statusDis);
}
function btnAble(){  
document.getElementById("play").disabled = false;
document.getElementById("play").style.backgroundColor = "#ff7e00"
clearInterval(statusAble);
}

function clicked(){ 
statusDis  = setInterval(btnDisable , 0); 
if(play_mode.value == "play_first_half" || play_mode.value == "play_latter_half"){
  switch (tempo_category.value){
    case "tempo_60":
    statusAble = setInterval(btnAble , 17000); 
        break;
    case "tempo_80":
    statusAble = setInterval(btnAble , 13000); 
        break;
    case "tempo_100":
    statusAble = setInterval(btnAble , 10500); 
        break;
    case "tempo_120":
    statusAble = setInterval(btnAble , 9000); 
        break;    
    case "tempo_140":
    statusAble = setInterval(btnAble , 8000); 
        break;    
    case "tempo_160":
    statusAble = setInterval(btnAble , 7000); 
        break;    
    default:  
  }  
}
else{
  switch (tempo_category.value){
    case "tempo_60":
    statusAble = setInterval(btnAble , 33000); 
        break;
    case "tempo_80":
    statusAble = setInterval(btnAble , 25000); 
        break;
    case "tempo_100":
    statusAble = setInterval(btnAble , 17000); 
        break;
    case "tempo_120":
    statusAble = setInterval(btnAble , 16500); 
        break;    
    case "tempo_140":
    statusAble = setInterval(btnAble , 14500); 
        break;    
    case "tempo_160":
    statusAble = setInterval(btnAble , 12500); 
        break;           
    default:  
  }  
}
}

document.getElementById("play").addEventListener("click", function() {
    playMode();
    clicked();
}, false);

document.getElementById("stop").addEventListener("click", function() {
    Refresh();
}, false);






    

    const tempo_category = document.getElementById("tempo_category");
    tempo_category.onchange = Refresh;

    const play_mode = document.getElementById("play_mode");
    play_mode.onchange = Refresh;
    const first = document.getElementById("first");
    const latter = document.getElementById("latter");
    

    play_mode.onchange = displayNote;


    
function Refresh(){
  Tone.Transport.stop();
  Tone.Transport.cancel();
  btnAble();
}

   
function preparePlay(){
  if(tempo_category.value == "select"){
    tempo_category.value = "tempo_100";    
    }
  if(play_mode.value == "select"){
    play_mode.value = "play";    
    }
  
  
}

const notes = new Array(32); 



function displayNote(){

  ABCJS.renderAbc("note","L:1/4\n E2 t E2 t| E4 | z E z E|z E z E|E E/E/2 E z|E E/E/2 E z|" ,{add_classes: true,responsive: "resize",paddingtop:"0",paddingbottom:"-16"});
  ABCJS.renderAbc("note2","L:1/4\n E/E/2 E/E/2 E/E/2 E/E/2 | E/E/2 E/E/2 E/E/2 E/E/2 | E3/2 E/2 E z | E3/2 E/2 E z| E3/2 E/2 E E | z E E z",{add_classes: true,responsive: "resize",paddingtop:"0",paddingbottom:"-16"});
  
 
}    

  
function playMode(){
  switch (play_mode.value){
    case "only_code":
        break;
    case "only_melody":
      playMelody();
        break;
    case "play_first_half":
      playMelodyFirstHalf();
        break;
    case "play_latter_half":
      playMelodyLatterHalf();
        break;    
    case "play":
      playMelody();
        break;    
    default:  
      playMelody();
  }    
}

function changeTempo(){
    switch (tempo_category.value){
    case "tempo_60":
    Tone.Transport.bpm.value = 60;
        break;
    case "tempo_80":
    Tone.Transport.bpm.value = 80;
        break;
    case "tempo_100":
    Tone.Transport.bpm.value = 100;
        break;
    case "tempo_120":
    Tone.Transport.bpm.value = 120;     
        break;    
    case "tempo_140":
    Tone.Transport.bpm.value = 140;     
        break;    
    case "tempo_160":
    Tone.Transport.bpm.value = 160;     
        break;      
    default:  
  }  
}

function playMelody() {
  const synth = new Tone.MembraneSynth().toDestination();
  /*
  AMSynth
  DuoSynth
  FMSynth
  MembraneSynth
  MetalSynth
  MonoSynth
  NoiseSynth
  PluckSynth
  PolySynth
  Sampler
  Synth
  */
  changeTempo();
  preparePlay();
  const item = {
  0:{note: "E4", duration: "4n"},
  1:{note: "E4", duration: "4n"},
  2:{note: "E4", duration: "4n"},
  3:{note: "E4", duration: "4n"},
  4:{note: "E4", duration: "4n"},
  5:{note: "E4", duration: "4n"},
  6:{note: "E4", duration: "4n"},
  7:{note: "E4", duration: "4n"},
  8:{note: "E4", duration: "4n"},
  9:{note: "E4", duration: "4n"},
  10:{note: "E4", duration: "4n"},
  11:{note: "E4", duration: "4n"},
  12:{note: "E4", duration: "4n"},
  13:{note: "E4", duration: "4n"},
  14:{note: "E4", duration: "4n"},
  15:{note: "E4", duration: "4n"},
  16:{note: "E4", duration: "4n"},
  17:{note: "E4", duration: "4n"},
  18:{note: "E4", duration: "4n"},
  19:{note: "E4", duration: "4n"},
  20:{note: "E4", duration: "4n"},
  21:{note: "E4", duration: "4n"},
  22:{note: "E4", duration: "4n"},
  23:{note: "E4", duration: "4n"},
  24:{note: "E4", duration: "4n"},
  25:{note: "E4", duration: "4n"},
  26:{note: "E4", duration: "4n"},
  27:{note: "E4", duration: "4n"},
  28:{note: "E4", duration: "4n"},
  29:{note: "E4", duration: "4n"},
  30:{note: "E4", duration: "4n"},
  31:{note: "E4", duration: "4n"},
  32:null,
  33:null,
  34:null,
  35:null,
  36:null,
  37:null,
  38:null,
  39:null,
  40:null,
  41:null,
  42:null,
  43:null,
  44:null,
  45:null,
  46:null,
  47:null,
  48:null,
  49:null,
  50:null,
  51:null,
  52:null,
  53:null,
  54:null,
  55:null,
  56:null,
  57:null,
  58:null,
  59:null,
  60:null,
  61:null,
  62:null,
  63:null,
};


const melodyList = [
  item["0"],item["32"],item["1"],item["33"],item["2"],item["34"],item["3"],item["35"],
  item["4"],item["36"],item["5"],item["37"],item["6"],item["38"],item["7"],item["39"],
  item["8"],item["40"],item["9"],item["41"],item["10"],item["42"],item["11"],item["43"],
  item["12"],item["44"],item["13"],item["45"],item["14"],item["46"],item["15"],item["47"],
  item["16"],item["48"],item["17"],item["49"],item["18"],item["50"],item["19"],item["51"],
  item["20"],item["52"],item["21"],item["53"],item["22"],item["54"],item["23"],item["55"],
  item["24"],item["56"],item["25"],item["57"],item["26"],item["58"],item["27"],item["59"],
  item["28"],item["60"],item["29"],item["61"],item["30"],item["62"],item["31"],item["63"]
];

function setPlay(time, note) {synth.triggerAttackRelease(note.note, note.duration, time);}
    const melody = new Tone.Sequence(setPlay, melodyList).start();
    melody.loop = 0;  
    Tone.Transport.start();
}

function playMelodyFirstHalf(){
  const synth = new Tone.Synth().toDestination();
  changeTempo();
  preparePlay();
  const item = {
  0:{note: "E4", duration: "4n"},
  1:{note: "E4", duration: "4n"},
  2:{note: "E4", duration: "4n"},
  3:{note: "E4", duration: "4n"},
  4:{note: "E4", duration: "4n"},
  5:{note: "E4", duration: "4n"},
  6:{note: "E4", duration: "4n"},
  7:{note: "E4", duration: "4n"},
  8:{note: "E4", duration: "4n"},
  9:{note: "E4", duration: "4n"},
  10:{note: "E4", duration: "4n"},
  11:{note: "E4", duration: "4n"},
  12:{note: "E4", duration: "4n"},
  13:{note: "E4", duration: "4n"},
  14:{note: "E4", duration: "4n"},
  15:{note: "E4", duration: "4n"},
  15:{note: "E4", duration: "4n"},
  16:null,
  17:null,
  18:null,
  19:null,
  20:null,
  21:null,
  22:null,
  23:null,
  24:null,
  25:null,
  26:null,
  27:null,
  28:null,
  29:null,
  30:null,
  31:null
};



const melodyList = [
  item["0"],item["16"],item["1"],item["17"],item["2"],item["18"],item["3"],item["19"],
  item["4"],item["20"],item["5"],item["21"],item["6"],item["22"],item["7"],item["23"],
  item["8"],item["24"],item["9"],item["25"],item["10"],item["26"],item["11"],item["27"],
  item["12"],item["28"],item["13"],item["29"],item["14"],item["30"],item["15"],item["31"]
];

function setPlay(time, note) {synth.triggerAttackRelease(note.note, note.duration, time);}
    const melody = new Tone.Sequence(setPlay, melodyList).start();
    melody.loop = 0;  
    Tone.Transport.start();
}

function playMelodyLatterHalf() {
  const synth = new Tone.Synth().toDestination();
  changeTempo();
  preparePlay();
  const item = {
  16:{note: "E4", duration: "4n"},
  17:{note: "E4", duration: "4n"},
  18:{note: "E4", duration: "4n"},
  19:{note: "E4", duration: "4n"},
  20:{note: "E4", duration: "4n"},
  21:{note: "E4", duration: "4n"},
  22:{note: "E4", duration: "4n"},
  23:{note: "E4", duration: "4n"},
  24:{note: "E4", duration: "4n"},
  25:{note: "E4", duration: "4n"},
  26:{note: "E4", duration: "4n"},
  27:{note: "E4", duration: "4n"},
  28:{note: "E4", duration: "4n"},
  29:{note: "E4", duration: "4n"},
  30:{note: "E4", duration: "4n"},
  31:{note: "E4", duration: "4n"},
  32:null,
  33:null,
  34:null,
  35:null,
  36:null,
  37:null,
  38:null,
  39:null,
  40:null,
  41:null,
  42:null,
  43:null,
  44:null,
  45:null,
  46:null,
  47:null
};



const melodyList = [
  item["16"],item["32"],item["17"],item["33"],item["18"],item["34"],item["19"],item["35"],
  item["20"],item["36"],item["21"],item["37"],item["22"],item["38"],item["23"],item["39"],
  item["24"],item["40"],item["25"],item["41"],item["26"],item["42"],item["27"],item["43"],
  item["28"],item["44"],item["29"],item["45"],item["30"],item["46"],item["31"],item["47"]
];

function setPlay(time, note) {synth.triggerAttackRelease(note.note, note.duration, time);}
    const melody = new Tone.Sequence(setPlay, melodyList).start();
    melody.loop = 0;  
    Tone.Transport.start();
}
</script>
<script src="https://unpkg.com/tone@14.7.77/build/Tone.js"></script>
</body>
</html>
